<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mini.program.dao.UserDao">
    <resultMap id="user" type="com.mini.program.bean.User">
		<id property="id" column="id"/>
        <result property="username" column="username"/>
        <result property="password" column="password"/>
    </resultMap>

    <sql id="Table_Name">
        user
    </sql>

	<sql id="Table_Columns">
        id,
        username,
        password
	</sql>

    <!-- insert -->
    <insert id="insert" parameterType="com.mini.program.bean.User">
        INSERT INTO
        <include refid="Table_Name" />
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="username != null">
                username,
            </if>
            <if test="password != null">
                password,
            </if>

        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{id},
            <if test="username != null">
                #{username},
            </if>
            <if test="password != null">
                #{password},
            </if>
        </trim>
    </insert>

    <select id="queryById" parameterType="Long" resultMap="user">
        SELECT
          <include refid="Table_Columns" />
        FROM
          <include refid="Table_Name" />
        WHERE
          id = #{id}
    </select>

    <select id="queryList" parameterType="com.mini.program.bean.User" resultMap="user">
        SELECT
          <include refid="Table_Columns" />
        FROM
          <include refid="Table_Name" />
    </select>


</mapper>
